<h4 id="git-clone慢的解决方法"><a href="#git-clone慢的解决方法" class="headerlink" title="git clone慢的解决方法"></a>git clone慢的解决方法</h4><ul>
<li>首先你要有一个代理，推荐<a href="https://github.com/shadowsocksr">shadowsocksr</a></li>
<li>为<code>http</code>和<code>https</code>协议设置socks5代理：<pre><code class="bash">git config --global http.proxy <span class="string">'socks5://&lt;your_proxy_host&gt;:&lt;your_proxy_port&gt;'</span>
git config --global https.proxy <span class="string">'socks5://&lt;your_proxy_host&gt;:&lt;your_proxy_port&gt;'</span>
</code></pre>
</li>
<li><p>为<code>git</code>协议设置socks5代理：</p>
<ul>
<li>以下格式使用的是<code>git</code>协议：<pre><code class="bash">git <span class="built_in">clone</span> git://github.com/git/git.git
</code></pre>
</li>
<li>首先创建一个文件<code>git-proxy</code>，写入以下内容：<pre><code class="bash"><span class="meta">#!/bin/bash</span>
nc -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; <span class="variable">$1</span> <span class="variable">$2</span>
</code></pre>
这里的<code>nc</code>是<code>netcat openbsd</code>而不是<code>netcat traditional</code>。<br>给文件添加可执行权限<code>sudo chmod +x git-proxy</code>。</li>
<li>将<code>git-proxy</code>文件所在文件夹加入环境变量<code>$PATH</code>（记得刷新环境变量）。</li>
<li>配置<code>core.gitProxy</code>：<pre><code class="bash">git config --global --add core.gitProxy git-proxy
</code></pre>
</li>
</ul>
</li>
<li><p>为<code>ssh</code>协议设置socck5代理：</p>
<ul>
<li>以下格式使用的是<code>ssh</code>协议：<pre><code class="bash">git <span class="built_in">clone</span> git@github.com:git/git.git
</code></pre>
</li>
<li>在配置之前首先运行以下命令确保你能<code>ssh</code>到你想连接的网站。例如<code>github</code>：<pre><code class="bash">ssh -vT git@github.com
</code></pre>
出现以下回应说明成功：<pre><code class="nohighlight">Hi your_username! You&apos;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre>
</li>
<li><p>以下方法不一定每个人都能用，取决于你的代理服务商有没有提供相关功能：<br>修改 <code>~/.ssh/config</code> 加入如下内容：<br>全局代理：</p>
<pre><code class="bash">ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p
</code></pre>
<p>特定域名进行代理：</p>
<pre><code class="bash">Host 域名
ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p

Host github.com
ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p
</code></pre>
<p>如果<code>git clone git@github:git/git.git</code>长时间无反应，最后报以下错误：</p>
<pre><code class="nohighlight">ssh_exchange_identification: Connection closed by remote host
fatal: Could not read from remote repository.

Please make sure you have the correct access rights
and the repository exists.
</code></pre>
<p>说明代理服务商不支持相关功能。</p>
</li>
</ul>
</li>
</ul>
