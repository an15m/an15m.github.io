<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>an15m</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://an15m.tk/"/>
  <updated>2017-09-05T06:48:06.640Z</updated>
  <id>http://an15m.tk/</id>
  
  <author>
    <name>an15m</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>fsat git</title>
    <link href="http://an15m.tk/2017/08/30/fsat-git/"/>
    <id>http://an15m.tk/2017/08/30/fsat-git/</id>
    <published>2017-08-30T06:36:33.000Z</published>
    <updated>2017-09-05T06:48:06.640Z</updated>
    
    <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>git clone慢的解决方法<br><a id="more"></a></excerpt></p>
<p><the rest="" of="" contents="" |="" 余下全文=""></the></p>
<ul>
<li>首先你要有一个代理，推荐<a href="https://github.com/shadowsocks" target="_blank" rel="external">shadowsocks</a></li>
</ul>
<h2 id="为http和https协议设置socks5代理"><a href="#为http和https协议设置socks5代理" class="headerlink" title="为http和https协议设置socks5代理"></a>为http和https协议设置socks5代理</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git config --global http.proxy <span class="string">'socks5://&lt;your_proxy_host&gt;:&lt;your_proxy_port&gt;'</span></div><div class="line">git config --global https.proxy <span class="string">'socks5://&lt;your_proxy_host&gt;:&lt;your_proxy_port&gt;'</span></div></pre></td></tr></table></figure>
<h2 id="为git协议设置socks5代理"><a href="#为git协议设置socks5代理" class="headerlink" title="为git协议设置socks5代理"></a>为git协议设置socks5代理</h2><p>以下格式使用的是<code>git</code>协议<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> git://github.com/git/git.git</div></pre></td></tr></table></figure></p>
<p>首先创建一个文件<code>git-proxy</code>，写入以下内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/bash</span></div><div class="line">nc -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; <span class="variable">$1</span> <span class="variable">$2</span></div></pre></td></tr></table></figure></p>
<p>这里的<code>nc</code>是<code>netcat openbsd</code>而不是<code>netcat traditional</code>。<br>给文件添加可执行权限<code>sudo chmod +x git-proxy</code>。</p>
<p>将<code>git-proxy</code>文件所在文件夹加入环境变量<code>$PATH</code>（记得刷新环境变量）。</p>
<p>配置<code>core.gitProxy</code>：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git config --global --add core.gitProxy git-proxy</div></pre></td></tr></table></figure></p>
<h2 id="为ssh协议设置socck5代理"><a href="#为ssh协议设置socck5代理" class="headerlink" title="为ssh协议设置socck5代理"></a>为ssh协议设置socck5代理</h2><p>以下格式使用的是<code>ssh</code>协议：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> git@github.com:git/git.git</div></pre></td></tr></table></figure></p>
<p>在配置之前首先运行以下命令确保你能<code>ssh</code>到你想连接的网站。例如<code>github</code>：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -vT git@github.com</div></pre></td></tr></table></figure></p>
<p>出现以下回应说明成功：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Hi your_username! You&apos;ve successfully authenticated, but GitHub does not provide shell access.</div></pre></td></tr></table></figure></p>
<p>以下方法不一定每个人都能用，取决于你的代理服务商有没有提供相关功能：<br>修改 <code>~/.ssh/config</code> 加入如下内容：<br>全局代理：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p</div></pre></td></tr></table></figure></p>
<p>特定域名进行代理：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Host 域名</div><div class="line">ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p</div><div class="line"></div><div class="line">Host github.com</div><div class="line">ProxyCommand nc -X 5 -x &lt;your_proxy_host&gt;:&lt;your_proxy_port&gt; %h %p</div></pre></td></tr></table></figure></p>
<p>如果<code>git clone git@github:git/git.git</code>长时间无反应，最后报以下错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ssh_exchange_identification: Connection closed by remote host</div><div class="line">fatal: Could not read from remote repository.</div><div class="line"></div><div class="line">Please make sure you have the correct access rights</div><div class="line">and the repository exists.</div></pre></td></tr></table></figure></p>
<p>说明代理服务商不支持相关功能。</p>
<blockquote>
<p>如果文章对你有帮助,请去我的博客留个言吧! <a href="http://an15m.tk">我的博客</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;git clone慢的解决方法&lt;br&gt;
    
    </summary>
    
      <category term="git" scheme="http://an15m.tk/categories/git/"/>
    
    
      <category term="git" scheme="http://an15m.tk/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>git config命令</title>
    <link href="http://an15m.tk/2017/08/30/git-config/"/>
    <id>http://an15m.tk/2017/08/30/git-config/</id>
    <published>2017-08-30T02:33:57.000Z</published>
    <updated>2017-09-05T06:58:52.727Z</updated>
    
    <content type="html"><![CDATA[<p><excerpt in="" index="" |="" 首页摘要=""><br>git config命令相关知识<br><a id="more"></a></excerpt></p>
<the rest="" of="" contents="" |="" 余下全文="">

<h2 id="配置目录"><a href="#配置目录" class="headerlink" title="配置目录"></a>配置目录</h2><h3 id="git配置目录分三级"><a href="#git配置目录分三级" class="headerlink" title="git配置目录分三级"></a>git配置目录分三级</h3><ul>
<li>仓库级，通过<code>--local</code>配置，在当前仓库下<code>.git/config</code></li>
<li>全局级，通过<code>--global</code>配置，在用户目录下<code>~/.gitconfig</code></li>
<li>系统级，通过<code>--system</code>配置，在<code>/etc/gitconfig</code>中</li>
<li>配置文件的权重是<code>仓库&gt;全局&gt;系统</code></li>
</ul>
<h2 id="一些配置详解"><a href="#一些配置详解" class="headerlink" title="一些配置详解"></a>一些配置详解</h2><ul>
<li><code>core.gitProxy</code>：当使用Git协议抓取时（作为命令主机端口？）执行的“代理命令”，而不是直接建立连接。如果变量值使用“COMMAND FOR DOMAIN”的格式，则该命令仅适用于以指定的域字符串结尾的主机名。该变量可以多次设置，并按照给定的顺序进行匹配; 以第一次匹配到的为准。<br>这个配置可以被<code>GIT_PROXY_COMMAND</code>环境变量覆盖（它始终普遍应用）。<br>特殊字符串<code>none</code>可以用作代理命令来指定给定域模式不使用任何代理。 这有助于在为外部域使用通用代理的同时从代理使用中排除防火墙内的服务器。</li>
<li><code>http.sslVerify</code>：是否在获取或推送HTTPS时验证SSL证书。 可以被<code>GIT_SSL_NO_VERIY</code>环境变量覆盖。</li>
<li><code>http.sslCert</code>：获取或推送HTTPS时包含SSL证书的文件。 可以被<code>GIT_SSL_CERT</code>环境变量覆盖。</li>
<li><code>http.sslKey</code>：获取或推送HTTPS时包含SSL私钥的文件。 可以被<code>GIT_SSL_KEY</code>环境变量覆盖。</li>
</ul>
<blockquote>
<p>如果文章对你有帮助,请去我的博客留个言吧! <a href="http://an15m.tk">我的博客</a></p>
</blockquote>
</the>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;excerpt in=&quot;&quot; index=&quot;&quot; |=&quot;&quot; 首页摘要=&quot;&quot;&gt;&lt;br&gt;git config命令相关知识&lt;br&gt;
    
    </summary>
    
      <category term="git" scheme="http://an15m.tk/categories/git/"/>
    
    
      <category term="git" scheme="http://an15m.tk/tags/git/"/>
    
  </entry>
  
</feed>
